<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gold Clover - Activ√° tu Beneficio</title>
<style>
/* [TODOS TUS ESTILOS EXISTENTES SE MANTIENEN IGUAL] */
* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family:'Arial',sans-serif;
    overflow:hidden;
    position:relative;
    background: linear-gradient(45deg, #0d0415, #1a0b2e, #2d1b4e, #3f2860);
    background-size: 400% 400%;
    animation: gradientShift 8s ease infinite;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    color:#fff;
}

/* --- GRADIENT BACKGROUND ANIMATION --- */
@keyframes gradientShift { 0%,100%{background-position:0% 50%;} 50%{background-position:100% 50%;} }

/* PARTICULAS */
.particles { position:fixed; top:0; left:0; width:100%; height:100vh; pointer-events:none; overflow:hidden; z-index:1; }
.particle { position:absolute; width:3px; height:3px; background:#ffd700; border-radius:50%; opacity:0; }

/* CONTENEDOR PRINCIPAL */
.container { position:relative; z-index:2; padding:20px; max-width:400px; width:90%; display:flex; flex-direction:column; justify-content:center; align-items:center; }

/* LOGO */
.logo { width:150px; height:auto; margin-bottom:15px; }

/* DESCRIPCION LLAMATIVA */
.description { 
    font-size:1.5rem; 
    font-weight:900; 
    line-height:1.3; 
    margin-bottom:20px;
    background: linear-gradient(45deg, #ffed4e, #ffd700, #fffa65);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow:0 0 12px rgba(255,215,0,0.6);
    animation: textPulse 1.5s ease-in-out infinite alternate;
}

/* ANIMACION TEXTO */
@keyframes textPulse { from { text-shadow:0 0 12px rgba(255,215,0,0.6); } to { text-shadow:0 0 20px rgba(255,235,0,0.9); } }

/* FLECHA SE√ëAL */
.arrow {
    font-size:2rem;
    margin-bottom:10px;
    animation: bounce 1s infinite;
}
@keyframes bounce { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-8px);} }

/* BOTON WHATSAPP */
.cta-button {
    background:#25D366;
    color:#fff;
    border:none;
    padding:18px 35px;
    font-size:1.2rem;
    font-weight:900;
    border-radius:50px;
    cursor:pointer;
    box-shadow:0 8px 20px rgba(37,211,102,0.4);
    transition:0.3s;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    text-transform:uppercase;
    animation:pulseBtn 2s infinite;
    margin-top:10px;
}
.cta-button:hover { transform:scale(1.05); box-shadow:0 12px 30px rgba(37,211,102,0.6); }
.cta-button:active { transform:scale(0.95); }
@keyframes pulseBtn { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }

/* LOGO WHATSAPP DENTRO DEL BOTON */
.cta-button img { width:24px; height:24px; margin-right:10px; }

/* MENSAJE DE AUTOREDIRECCI√ìN */
.autoredirect {
    font-size:0.95rem;
    color:#ffed4e;
    margin-bottom:10px;
    animation:flash 1.5s infinite;
}
@keyframes flash { 0%,100%{opacity:1;} 50%{opacity:0.6;} }

/* CONTADOR */
.countdown { font-size:1rem; color:#ffed4e; font-weight:900; margin-top:10px; text-shadow:0 0 8px rgba(255,235,0,0.8); animation:flash 1.5s infinite; }

/* NOTIFICACIONES SCROLL */
.notification-container { width:100%; max-width:400px; height:40px; overflow:hidden; position:relative; margin:15px auto; border-radius:10px; }
.notification-scroll { position:absolute; white-space:nowrap; display:flex; animation:scrollLeft 12s linear infinite; font-size:0.9rem; color:#fff; }
.notification-scroll div { margin-right:40px; display:inline-flex; align-items:center; }
.notification-scroll span { color:#ffd700; font-weight:700; }
@keyframes scrollLeft { 0%{transform:translateX(100%);} 100%{transform:translateX(-100%);} }

/* RESPONSIVO */
@media(max-width:480px){ 
    .description{font-size:1.2rem;} 
    .cta-button{padding:14px 25px;font-size:1rem;} 
    .countdown{font-size:0.9rem;} 
    .notification-scroll{font-size:0.75rem;} 
    .arrow{font-size:1.5rem;}
}

/* ESTILOS PARA EL MODAL DE PROTECCI√ìN */
.protection-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    color: white;
    font-size: 1.2rem;
    text-align: center;
    padding: 20px;
    flex-direction: column;
}

.protection-content {
    max-width: 500px;
    background: #1a1a2e;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
}

.protection-btn {
    background: #25D366;
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 50px;
    font-size: 1rem;
    cursor: pointer;
    margin-top: 20px;
    transition: all 0.3s;
}

.protection-btn:hover {
    background: #128C7E;
    transform: scale(1.05);
}

/* BOT√ìN INVISIBLE PARA DETECTAR BOTS */
.honeypot-button {
    position: absolute;
    left: -10000px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* MODAL DE CONFIRMACI√ìN DE SEGUIMIENTO */
.tracking-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 2000;
}

.tracking-content {
    background: #1a1a2e;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
    max-width: 400px;
    width: 90%;
    box-shadow: 0 0 25px rgba(37, 211, 102, 0.4);
}

.tracking-content h3 {
    color: #25D366;
    margin-bottom: 15px;
}

.tracking-content p {
    margin-bottom: 20px;
    line-height: 1.5;
}
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<div class="container">
    <!-- LOGO -->
    <img src="https://goldcloverlanding.netlify.app/logo.png" alt="Gold Clover" class="logo">

    <!-- TEXTO LLAMATIVO -->
    <p class="description">¬°ESCRIBINOS EN WHATSAPP Y RECIB√ç UN 30% EXTRA!</p>

    <!-- AVISO DE AUTOREDIRECCI√ìN -->
    <div class="autoredirect">üëâ Hac√© clic en el bot√≥n para activar tu beneficio</div>

    <!-- FLECHA SE√ëAL -->
    <div class="arrow">üëá</div>

    <!-- BOTON WHATSAPP (backup) -->
    <button class="cta-button" id="whatsapp-button">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
        Activar Beneficio
    </button>

    <!-- BOT√ìN HONEYPOT INVISIBLE PARA DETECTAR BOTS -->
    <button class="honeypot-button" id="honeypot-button" title="Do not click"></button>

    <!-- CONTADOR -->
    <div class="countdown" id="countdown">‚è∞ Solo disponible por 00:05:00</div>

    <!-- NOTIFICACIONES SCROLL -->
    <div class="notification-container">
        <div class="notification-scroll" id="notification-scroll"></div>
    </div>
</div>

<!-- MODAL DE PROTECCI√ìN (inicialmente oculto) -->
<div class="protection-modal" id="protection-modal" style="display: none;">
    <div class="protection-content">
        <h2>‚ö†Ô∏è Protecci√≥n Activada</h2>
        <p>Para acceder al contenido, debe desactivar las herramientas de desarrollo.</p>
        <button class="protection-btn" onclick="location.reload()">Recargar P√°gina</button>
    </div>
</div>

<!-- MODAL DE CONFIRMACI√ìN DE SEGUIMIENTO -->
<div class="tracking-modal" id="tracking-modal">
    <div class="tracking-content">
        <h3>üîÑ Redirigiendo a WhatsApp</h3>
        <p>Estamos registrando tu conversi√≥n. Ser√°s redirigido en unos segundos...</p>
    </div>
</div>

<script>
// =============================================
// CONFIGURACI√ìN MEJORADA DEL PIXEL DE FACEBOOK
// =============================================

// C√ìDIGO ENCRIPTADO DEL PIXEL ID (1785930278684721)
function decodePixelId() {
    const part1 = atob("MTc4NTkz"); // "178593"
    const part2 = String.fromCharCode(48, 50, 55, 56, 54, 56, 52, 55, 50, 49); // "0278684721"
    return part1 + part2;
}

// Inicializaci√≥n del Pixel de Facebook (versi√≥n mejorada)
function initFacebookPixel() {
    if (detectDevTools()) return; // No inicializar si hay dev tools abiertas
    
    const pixelId = decodePixelId();
    
    // Cargar el pixel de Facebook de forma s√≠ncrona para mejor confiabilidad
    (function(f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function() {
            n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments)
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = '2.0';
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
    })(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
    
    // Inicializar el pixel inmediatamente
    if (typeof fbq !== 'undefined') {
        fbq('init', pixelId);
        fbq('track', 'PageView');
        console.log("Pixel de Facebook inicializado correctamente");
    } else {
        console.error("Error: Facebook Pixel no se carg√≥ correctamente");
        // Reintentar despu√©s de un breve delay
        setTimeout(initFacebookPixel, 1000);
    }
}

// Funci√≥n mejorada para trackear eventos
function trackFacebookEvent(eventName, parameters) {
    if (typeof fbq === 'undefined') {
        console.warn("Facebook Pixel no est√° disponible, reintentando...");
        setTimeout(() => trackFacebookEvent(eventName, parameters), 500);
        return;
    }
    
    try {
        // Mostrar modal de confirmaci√≥n para dar tiempo al tracking
        document.getElementById('tracking-modal').style.display = 'flex';
        
        // Trackear el evento
        fbq('track', eventName, parameters);
        console.log(`Evento ${eventName} trackeado a Facebook`);
        
        // Esperar un momento para asegurar que el evento se env√≠e
        setTimeout(() => {
            document.getElementById('tracking-modal').style.display = 'none';
        }, 1500);
    } catch (error) {
        console.error("Error al trackear evento:", error);
        document.getElementById('tracking-modal').style.display = 'none';
    }
}

// =============================================
// C√ìDIGO EXISTENTE CON MEJORAS
// =============================================

// DETECCI√ìN DE HERRAMIENTAS DE DESARROLLO
function detectDevTools() {
    const threshold = 160;
    const widthThreshold = window.outerWidth - window.innerWidth > threshold;
    const heightThreshold = window.outerHeight - window.innerHeight > threshold;
    
    if (widthThreshold || heightThreshold) {
        document.getElementById('protection-modal').style.display = 'flex';
        return true;
    }
    return false;
}

// Verificar peri√≥dicamente
setInterval(detectDevTools, 1000);

// C√ìDIGO ENCRIPTADO DEL N√öMERO DE WHATSAPP (5491125469436)
function decodeWhatsAppNumber() {
    const baseDecoded = "5491125469436";
    return baseDecoded;
}

// DECODIFICACI√ìN DE MENSAJE
function decodeMessage() {
    const parts = [
        String.fromCharCode(161, 72, 111, 108, 97, 33),
        String.fromCharCode(32, 81, 117, 105, 101, 114, 111),
        String.fromCharCode(32, 97, 99, 116, 105, 118, 97, 114),
        String.fromCharCode(32, 109, 105, 32, 98, 101, 110, 101, 102, 105, 99, 105, 111, 32),
        String.fromCodePoint(0x1F33C)
    ];
    return parts.join('');
}

// DETECCI√ìN DE BOTS (versi√≥n menos agresiva)
let clickCount = 0;
let lastClickTime = 0;

function isLikelyBot(event) {
    // Solo detecci√≥n b√°sica para no interferir con usuarios reales
    const now = Date.now();
    const timeSinceLastClick = now - lastClickTime;
    
    // Si hay clics extremadamente r√°pidos, probablemente sea un bot
    if (timeSinceLastClick < 50) {
        return true;
    }
    
    lastClickTime = now;
    return false;
}

// FUNCI√ìN MEJORADA PARA ABRIR WHATSAPP
function openWhatsApp(event){
    if (detectDevTools()) return;
    
    // Detecci√≥n muy b√°sica de bots
    if (isLikelyBot(event)) {
        console.log("Posible bot detectado");
        return false;
    }
    
    // Trackear el evento de conversi√≥n con confirmaci√≥n visual
    trackFacebookEvent('Lead', {
        content_name: 'Bot√≥n WhatsApp Gold Clover',
        conversion_method: 'WhatsApp'
    });
    
    // Redirigir despu√©s de dar tiempo al tracking
    setTimeout(() => {
        const phoneNumber = decodeWhatsAppNumber();
        const message = decodeMessage();
        window.location.href = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    }, 1600); // Tiempo suficiente para que el evento se env√≠e
    
    return false;
}

// Asignar evento al bot√≥n
document.getElementById('whatsapp-button').addEventListener('click', openWhatsApp);

// Trampa para bots (honeypot)
document.getElementById('honeypot-button').addEventListener('click', function() {
    console.log("Bot detectado a trav√©s de honeypot");
    return false;
});

// CONTADOR
let countdownTime = 5*60; 
function updateCountdown(){
    let minutes = Math.floor(countdownTime/60).toString().padStart(2,'0');
    let seconds = (countdownTime%60).toString().padStart(2,'0');
    document.getElementById('countdown').textContent = `‚è∞ Solo disponible por 00:${minutes}:${seconds}`;
    if(countdownTime>0){ countdownTime--; setTimeout(updateCountdown,1000); }
}
updateCountdown();

// NOTIFICACIONES SCROLL
const notifications = [
    {name:"Mar√≠a", action:"activ√≥ su beneficio"},
    {name:"Carlos", action:"particip√≥ y recibi√≥ su ventaja"},
    {name:"Ana", action:"desbloque√≥ su beneficio exclusivo"},
    {name:"Diego", action:"activ√≥ su ventaja con √©xito"},
    {name:"Laura", action:"particip√≥ y obtuvo su recompensa"}
];
const notifContainer = document.getElementById('notification-scroll');
notifications.forEach(n=>{ 
    const div = document.createElement('div'); 
    div.innerHTML=`üéâ ${n.name} <span>${n.action}</span>`; 
    notifContainer.appendChild(div); 
});

// PARTICULAS
class ParticleSystem {
    constructor(){ this.particles=[]; this.container=document.getElementById('particles'); this.lastTime=0; this.isRunning=false; }
    createParticle(){ return {x:Math.random()*window.innerWidth, y:window.innerHeight+10, speed:Math.random()*2+1, opacity:Math.random()*0.6+0.2, element:null}; }
    init(){ for(let i=0;i<15;i++){ let p=this.createParticle(); let e=document.createElement('div'); e.className='particle'; e.style.left=p.x+'px'; e.style.top=p.y+'px'; e.style.opacity=p.opacity; this.container.appendChild(e); p.element=e; this.particles.push(p);} this.start();}
    update(currentTime){ if(currentTime-this.lastTime>50){ this.particles.forEach(p=>{ p.y-=p.speed; if(p.y<-10){ p.y=window.innerHeight+10; p.x=Math.random()*window.innerWidth; p.opacity=Math.random()*0.6+0.2; } p.element.style.transform=`translate3d(${p.x}px,${p.y}px,0)`; p.element.style.opacity=p.opacity; }); this.lastTime=currentTime;} if(this.isRunning) requestAnimationFrame((t)=>this.update(t));}
    start(){ this.isRunning=true; requestAnimationFrame((t)=>this.update(t)); }
    stop(){ this.isRunning=false; }
}

let particleSystem = new ParticleSystem();

// Inicializar cuando la p√°gina cargue
window.addEventListener('load',()=>{ 
    particleSystem.init(); 
    // Inicializar el Pixel inmediatamente
    initFacebookPixel();
});

document.addEventListener('visibilitychange',()=>{ 
    if(particleSystem){ 
        document.hidden ? particleSystem.stop() : particleSystem.start(); 
    } 
});

// Cambiar mensaje de autoredirecci√≥n
document.querySelector('.autoredirect').textContent = 'üëâ Hac√© clic en el bot√≥n para activar tu beneficio';
</script>

</body>
</html>
